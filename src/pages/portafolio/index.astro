---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { siteConfig } from '../../config/site';

const { contact } = siteConfig;

const categorias = ['Todos', 'Estructuras', 'Arquitectura Metalica', 'Griglia', 'Vivienda Modular', 'TBex'];

const proyectos = [
  // Estructuras
  { imagen: '/images/estructuras/galpon.jpg', titulo: 'Galpon industrial', desc: 'Nave industrial con estructura reticulada', categoria: 'Estructuras' },
  { imagen: '/images/estructuras/polideportivo.jpg', titulo: 'Polideportivo', desc: 'Estructura metalica para polideportivo municipal', categoria: 'Estructuras' },
  { imagen: '/images/estructuras/stadium.jpg', titulo: 'Tribuna estadio', desc: 'Estructura para tribuna deportiva', categoria: 'Estructuras' },
  { imagen: '/images/estructuras/mastil.jpg', titulo: 'Mastil de iluminacion', desc: 'Mastil de gran altura para iluminacion deportiva', categoria: 'Estructuras' },
  { imagen: '/images/estructuras/torreta_movil-01.jpg', titulo: 'Torreta movil', desc: 'Torres moviles de iluminacion', categoria: 'Estructuras' },
  { imagen: '/images/estructuras/Torreta_desplegable.jpg', titulo: 'Torreta desplegable', desc: 'Sistema de torre desplegable para eventos', categoria: 'Estructuras' },
  { imagen: '/images/estructuras/escultura eolica.jpg', titulo: 'Escultura eolica', desc: 'Estructura artistica con movimiento eolico', categoria: 'Estructuras' },
  { imagen: '/images/estructuras/WhatsApp Image 2026-02-02 at 08.46.34.jpeg', titulo: 'Estructura de galpon', desc: 'Fabricacion en taller de estructura principal', categoria: 'Estructuras' },
  { imagen: '/images/estructuras/WhatsApp Image 2026-02-02 at 15.03.11.jpeg', titulo: 'Montaje en obra', desc: 'Izaje y montaje de estructura metalica', categoria: 'Estructuras' },
  { imagen: '/images/estructuras/WhatsApp Image 2026-02-02 at 08.47.06 (3).jpeg', titulo: 'Nave industrial', desc: 'Estructura para planta de produccion', categoria: 'Estructuras' },

  // Arquitectura Metalica
  { imagen: '/images/arquitectura/escalera-01.jpg', titulo: 'Escalera comercial', desc: 'Con barandas de vidrio y acero inox', categoria: 'Arquitectura Metalica' },
  { imagen: '/images/arquitectura/WhatsApp Image 2026-02-02 at 08.42.28.jpeg', titulo: 'Escalera interior', desc: 'Diseno moderno con descanso', categoria: 'Arquitectura Metalica' },
  { imagen: '/images/arquitectura/WhatsApp Image 2026-02-02 at 08.44.33.jpeg', titulo: 'Escalera en voladizo', desc: 'Peldanos flotantes', categoria: 'Arquitectura Metalica' },
  { imagen: '/images/arquitectura/WhatsApp Image 2026-02-02 at 08.47.12.jpeg', titulo: 'Escalera caracol', desc: 'Estructura helicoidal de acceso', categoria: 'Arquitectura Metalica' },
  { imagen: '/images/arquitectura/WhatsApp Image 2026-02-02 at 08.42.29.jpeg', titulo: 'Baranda artistica', desc: 'Herreria con volutas decorativas', categoria: 'Arquitectura Metalica' },
  { imagen: '/images/arquitectura/WhatsApp Image 2026-02-02 at 08.44.30.jpeg', titulo: 'Balcones con vidrio', desc: 'Edificio de departamentos', categoria: 'Arquitectura Metalica' },
  { imagen: '/images/arquitectura/WhatsApp Image 2026-02-02 at 08.42.31.jpeg', titulo: 'Cerramientos plegables', desc: 'Sistema de vidrio tipo acordeon', categoria: 'Arquitectura Metalica' },
  { imagen: '/images/arquitectura/WhatsApp Image 2026-02-02 at 08.45.13.jpeg', titulo: 'Pergola con policarbonato', desc: 'Estructura metalica y techo', categoria: 'Arquitectura Metalica' },
  { imagen: '/images/arquitectura/acero-inox-01.jpg', titulo: 'Fachada de vidrio', desc: 'Entrada con acero inoxidable', categoria: 'Arquitectura Metalica' },
  { imagen: '/images/arquitectura/WhatsApp Image 2026-02-02 at 08.47.07.jpeg', titulo: 'Porton enrollable', desc: 'Cortina metalica comercial', categoria: 'Arquitectura Metalica' },

  // Griglia
  { imagen: '/images/griglia/cierre-inox-01.jpg', titulo: 'Cierre de parrilla inox', desc: 'Puerta guillotina en acero inoxidable', categoria: 'Griglia' },
  { imagen: '/images/griglia/cierre-hierro-01.jpg', titulo: 'Cierre de parrilla hierro', desc: 'Puerta guillotina en hierro', categoria: 'Griglia' },
  { imagen: '/images/griglia/bajomesada-01.jpg', titulo: 'Bajomesada parrillero', desc: 'Cajoneria de acero para parrilla', categoria: 'Griglia' },
  { imagen: '/images/griglia/WhatsApp Image 2026-02-02 at 08.45.12.jpeg', titulo: 'Parrilla completa', desc: 'Set completo con accesorios', categoria: 'Griglia' },
  { imagen: '/images/griglia/WhatsApp Image 2026-02-02 at 08.45.35 (1).jpeg', titulo: 'Parrilla empotrable', desc: 'Instalacion en quincho', categoria: 'Griglia' },
  { imagen: '/images/griglia/WhatsApp Image 2026-02-02 at 08.45.37 (1).jpeg', titulo: 'Parrilla a medida', desc: 'Fabricacion personalizada', categoria: 'Griglia' },
  { imagen: '/images/griglia/WhatsApp Image 2026-02-02 at 08.45.39 (1).jpeg', titulo: 'Parrilla residencial', desc: 'Para espacio exterior', categoria: 'Griglia' },
  { imagen: '/images/griglia/WhatsApp Image 2026-02-02 at 08.45.58.jpeg', titulo: 'Parrilla comercial', desc: 'Para restaurante o catering', categoria: 'Griglia' },

  // Vivienda Modular
  { imagen: '/images/modular/edificio-modular-central-puerto-mendoza-01.jpg', titulo: 'Edificio modular Central Puerto', desc: 'Oficinas modulares para obra en Mendoza', categoria: 'Vivienda Modular' },
  { imagen: '/images/modular/WhatsApp Image 2026-02-02 at 08.42.32.jpeg', titulo: 'Modulo habitacional', desc: 'Unidad modular terminada', categoria: 'Vivienda Modular' },
  { imagen: '/images/modular/WhatsApp Image 2026-02-02 at 10.43.05.jpeg', titulo: 'Oficina modular', desc: 'Para pie de obra', categoria: 'Vivienda Modular' },
  { imagen: '/images/modular/WhatsApp Image 2026-02-02 at 10.43.08.jpeg', titulo: 'Conjunto modular', desc: 'Multiples unidades conectadas', categoria: 'Vivienda Modular' },
  { imagen: '/images/modular/WhatsApp Image 2026-02-02 at 10.46.56.jpeg', titulo: 'Modulo en produccion', desc: 'Fabricacion en planta', categoria: 'Vivienda Modular' },
  { imagen: '/images/modular/WhatsApp Image 2026-02-02 at 10.49.13.jpeg', titulo: 'Vivienda modular', desc: 'Terminacion completa', categoria: 'Vivienda Modular' },

  // TBex
  { imagen: '/images/tbox/gabinete-01.jpg', titulo: 'Gabinete electrico', desc: 'Gabinete certificado INTI IP66', categoria: 'TBex' },
  { imagen: '/images/tbox/gabinete-02.jpg', titulo: 'Gabinete industrial', desc: 'Para instalaciones electricas', categoria: 'TBex' },
  { imagen: '/images/tbox/gabinete-03.jpg', titulo: 'Tablero de control', desc: 'Gabinete para automatizacion', categoria: 'TBex' },
  { imagen: '/images/tbox/ypf-satelites.jpg', titulo: 'Satelites YPF', desc: 'Satelites de inyeccion para campo petrolero', categoria: 'TBex' },
  { imagen: '/images/tbox/ypf-filtro.jpg', titulo: 'Skid de filtracion YPF', desc: 'Sistema de filtracion para pozos', categoria: 'TBex' },
  { imagen: '/images/tbox/ypf-skid.jpg', titulo: 'Skid de proceso', desc: 'Estructura para equipamiento de campo', categoria: 'TBex' },
  { imagen: '/images/tbox/producto-01.jpg', titulo: 'Producto TBex', desc: 'Linea de gabinetes estancos', categoria: 'TBex' },
  { imagen: '/images/tbox/producto-02.jpg', titulo: 'Shelter', desc: 'Shelter para telecomunicaciones', categoria: 'TBex' },
];
---

<BaseLayout
  title="Portafolio - Proyectos y Obras Realizadas"
  description="Galeria de proyectos realizados por Metalurgica Boto Mariani: estructuras metalicas, arquitectura, parrillas Griglia, vivienda modular y gabinetes TBex."
>
  <!-- Hero Slim -->
  <section class="bg-gray-900 py-16 md:py-20">
    <div class="container text-center">
      <p class="text-accent font-semibold mb-3 tracking-wider uppercase text-sm">Mas de 30 anos de experiencia</p>
      <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">Nuestro Portafolio</h1>
      <p class="text-gray-400 text-lg max-w-2xl mx-auto">
        Cada proyecto refleja nuestro compromiso con la calidad, la precision y el diseno a medida.
        Conoce algunos de nuestros trabajos mas destacados.
      </p>
    </div>
  </section>

  <!-- Stats -->
  <section class="bg-gray-800 py-8">
    <div class="container">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
        <div>
          <div class="text-3xl font-bold text-accent">+30</div>
          <div class="text-sm text-gray-400 mt-1">Anos de experiencia</div>
        </div>
        <div>
          <div class="text-3xl font-bold text-accent">5</div>
          <div class="text-sm text-gray-400 mt-1">Unidades de negocio</div>
        </div>
        <div>
          <div class="text-3xl font-bold text-accent">100%</div>
          <div class="text-sm text-gray-400 mt-1">Fabricacion propia</div>
        </div>
        <div>
          <div class="text-3xl font-bold text-accent">INTI</div>
          <div class="text-sm text-gray-400 mt-1">Certificacion IP66</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Filtros + Galeria -->
  <section class="section bg-white">
    <div class="container">
      <!-- Filtros -->
      <div class="flex flex-wrap justify-center gap-2 mb-12" id="filtros">
        {categorias.map((cat) => (
          <button
            class:list={[
              'portfolio-filter px-4 py-2 rounded-full text-sm font-semibold transition-all',
              cat === 'Todos'
                ? 'bg-primary text-white'
                : 'bg-gray-100 text-gray-600 hover:bg-gray-200',
            ]}
            data-filter={cat}
          >
            {cat}
          </button>
        ))}
      </div>

      <!-- Grid -->
      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4" id="portfolio-grid">
        {proyectos.map((p) => (
          <div class="portfolio-item group relative overflow-hidden rounded-lg aspect-square" data-categoria={p.categoria}>
            <img
              src={p.imagen}
              alt={p.titulo}
              class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
              loading="lazy"
            />
            <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300">
              <div class="absolute bottom-0 left-0 right-0 p-4">
                <span class="inline-block bg-accent text-xs font-bold px-2 py-0.5 rounded text-gray-900 mb-2">{p.categoria}</span>
                <p class="text-white font-semibold">{p.titulo}</p>
                <p class="text-gray-300 text-sm">{p.desc}</p>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="section bg-primary">
    <div class="container">
      <div class="max-w-3xl mx-auto text-center">
        <h2 class="text-3xl md:text-4xl font-bold text-white mb-6">
          Tenes un proyecto?
        </h2>
        <p class="text-xl text-gray-300 mb-8">
          Contanos tu idea y la hacemos realidad. Presupuestos sin cargo.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="/contacto/" class="btn btn-accent px-8 py-4 font-bold">
            Solicitar Cotizacion
          </a>
          <a
            href={`https://wa.me/${contact.phoneWhatsApp}?text=${encodeURIComponent('Hola, vi su portafolio y estoy interesado en un proyecto. Me gustaria recibir informacion.')}`}
            target="_blank"
            rel="noopener noreferrer"
            class="btn bg-green-500 hover:bg-green-600 text-white px-8 py-4 font-bold inline-flex items-center justify-center gap-2"
          >
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
            </svg>
            WhatsApp Directo
          </a>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<script>
  // Portfolio filter functionality
  const buttons = document.querySelectorAll('.portfolio-filter');
  const items = document.querySelectorAll('.portfolio-item');

  buttons.forEach((btn) => {
    btn.addEventListener('click', () => {
      const filter = btn.getAttribute('data-filter') || 'Todos';

      // Update active button
      buttons.forEach((b) => {
        b.classList.remove('bg-primary', 'text-white');
        b.classList.add('bg-gray-100', 'text-gray-600');
      });
      btn.classList.remove('bg-gray-100', 'text-gray-600');
      btn.classList.add('bg-primary', 'text-white');

      // Filter items
      items.forEach((item) => {
        const cat = item.getAttribute('data-categoria');
        if (filter === 'Todos' || cat === filter) {
          (item as HTMLElement).style.display = '';
        } else {
          (item as HTMLElement).style.display = 'none';
        }
      });
    });
  });
</script>
